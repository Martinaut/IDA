plugins {
    id 'io.spring.dependency-management' version '1.0.14.RELEASE'
}

subprojects {
    /* Spring Boot Library Configuration */
    buildscript {
        ext { springBootVersion = '2.7.4' }
        repositories { mavenCentral() }
        dependencies { classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}") }
    }

    /* Plugins */
    apply plugin: 'java'
    apply plugin: 'idea'
    apply plugin: 'io.spring.dependency-management'
    apply plugin: 'com.github.ben-manes.versions'

    /* Group, Version */
    group = 'at.jku.dke'
    sourceCompatibility = 11

    /* Repositories */
    repositories {
        mavenCentral()
        maven {
            url "https://maven.onehippo.com/maven2/"
        }
    }

    /* Dependencies */
    dependencies {
        implementation 'org.springframework.boot:spring-boot-starter'

        testImplementation 'org.springframework.boot:spring-boot-starter-test'
        testImplementation 'com.openpojo:openpojo:0.9.1'
        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.1'
        testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.1'
    }
    dependencyManagement {
        imports { mavenBom("org.springframework.boot:spring-boot-dependencies:${springBootVersion}") }
    }

    /* Javadoc */
    javadoc {
        options.addBooleanOption('html5', true)
    }

    /* Tests */
    test {
        useJUnitPlatform()
    }
}